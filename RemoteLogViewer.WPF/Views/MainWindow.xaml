<?xml version="1.0" encoding="utf-8"?>
<Window
	x:Class="RemoteLogViewer.WinUI.Views.MainWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:views="using:RemoteLogViewer.Views"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:vm="using:RemoteLogViewer.Core.ViewModels"
	xmlns:views1="using:RemoteLogViewer.Core.Views"
	xmlns:views2="using:RemoteLogViewer.WinUI.Views"
	mc:Ignorable="d"
	Title="RemoteLogViewer">

	<Grid RowDefinitions="Auto,*">
		<TitleBar
			Grid.Row="0"
			x:Name="titleBar"
			Title="RemoteLogViewer"
			IsBackButtonVisible="False"
			IsPaneToggleButtonVisible="False">
			<TitleBar.RightHeader>
				<StackPanel Orientation="Horizontal" Spacing="2">
					<Button Click="OpenSettings_Click" BorderThickness="0" Padding="2">
						<FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE713;"/>
					</Button>
					<Button Click="InfoButton_Click" BorderThickness="0" Padding="2">
						<FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE946;"/>
					</Button>
				</StackPanel>
			</TitleBar.RightHeader>
		</TitleBar>
		<TabView Grid.Row="1"
				VerticalAlignment="Stretch"
				TabItemsSource="{x:Bind ViewModel.Tabs, Mode=OneWay}"
				SelectedItem="{x:Bind ViewModel.SelectedTab.Value, Mode=TwoWay}"
				IsAddTabButtonVisible="True"
				TabCloseRequested="TabView_TabCloseRequested"
				AddTabButtonCommand="{x:Bind ViewModel.AddTabCommand}">
			<TabView.TabItemTemplate>
				<DataTemplate x:DataType="vm:LogViewerViewModel">
					<TabViewItem Header="{x:Bind Title.Value, Mode=OneWay}" IsClosable="True">
						<views2:LogViewerControl ViewModel="{x:Bind }" />
					</TabViewItem>
				</DataTemplate>
			</TabView.TabItemTemplate>
		</TabView>
	</Grid>
</Window>