<?xml version="1.0" encoding="utf-8"?>
<Window
	x:Class="RemoteLogViewer.WPF.Views.MainWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:views="clr-namespace:RemoteLogViewer.WPF.Views"
	xmlns:vm="clr-namespace:RemoteLogViewer.Core.ViewModels"
	mc:Ignorable="d"
	Title="RemoteLogViewer">

	<DockPanel>
		<!-- Title bar area (WPFには TitleBar コントロールがないため自作) -->
		<Border Background="#EEE" DockPanel.Dock="Top" Padding="8">
			<DockPanel>
				<TextBlock Text="RemoteLogViewer"
                           FontSize="16"
                           FontWeight="Bold"
                           VerticalAlignment="Center" />

				<StackPanel Orientation="Horizontal"
                            DockPanel.Dock="Right"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Right"
                            Margin="8,0,0,0">
					<Button Command="{Binding OpenSettingsCommand}" Content="⚙" Margin="0,0,4,0"/>
					<Button Command="{Binding OpenInfoCommand}" Content="ℹ"/>

					<Button Content="Add" Command="{Binding AddTabCommand}"/>
					<Button x:Name="TabCloseButton" Content="Close" Click="TabCloseButton_Click"/>
				</StackPanel>
			</DockPanel>
		</Border>
		<TabControl
			ItemsSource="{Binding Tabs}"
			SelectedItem="{Binding SelectedTab.Value}">
			<TabControl.ItemTemplate>
				<!-- Tab Header -->
				<DataTemplate>
					<TextBlock Text="{Binding Title.Value}" />
				</DataTemplate>
			</TabControl.ItemTemplate>

			<TabControl.ContentTemplate>
				<!-- Tab Body -->
				<DataTemplate DataType="{x:Type vm:LogViewerViewModel}">
					<views:LogViewerControl />
				</DataTemplate>
			</TabControl.ContentTemplate>
		</TabControl>
	</DockPanel>
</Window>